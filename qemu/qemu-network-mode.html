


  
  
  

  

  

  

  

  

  
  
  
  
    
       
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  
    

    

    
    
  

  
  

  
  
  

  

  

  

  

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  <!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>QEMU 网络模式 &mdash; 零度</title><link rel="stylesheet" href="https://hsfeng.site/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://hsfeng.site/assets/css/components/collection.css"><link rel="stylesheet" href="https://hsfeng.site/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://hsfeng.site/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://hsfeng.site/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://hsfeng.site/assets/css/globals/common.css"><link rel="stylesheet" href="https://hsfeng.site/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://hsfeng.site/assets/css/posts/index.css"><link rel="stylesheet" href="https://hsfeng.site/assets/vendor/octicons/octicons/octicons.css"> <!-- --> <!-- --><link rel="stylesheet" href="https://hsfeng.site/assets/rouge-themes/dist/github.css"> <!-- Latest compiled and minified CSS --><link rel="canonical" href="https://hsfeng.site/qemu/qemu-network-mode.html"><link rel="alternate" type="application/atom+xml" title="零度" href="https://hsfeng.site/feed.xml"><link rel="shortcut icon" href="https://hsfeng.site/favicon.ico"><meta property="og:title" content="QEMU 网络模式"><meta name="keywords" content="qemu"><meta name="og:keywords" content="qemu"><meta name="description" content="QEMU 支持多种网络模式，简单介绍如何使用这几种网络模式。"><meta name="og:description" content="QEMU 支持多种网络模式，简单介绍如何使用这几种网络模式。"><meta property="og:url" content="https://hsfeng.site/qemu/qemu-network-mode.html"><meta property="og:site_name" content="零度"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2020-12-02"> <script src="https://hsfeng.site/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://hsfeng.site/assets/js/jquery-ui.js"></script> <script src="https://hsfeng.site/assets/js/main.js"></script> <!-- --></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1><a href="https://hsfeng.site/" title="零度"><span class="octicon octicon-mark-github"></span> 零度</a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="https://hsfeng.site/" class=" site-header-nav-item" target="" title="首页">首页</a> <a href="https://hsfeng.site/categories/" class=" site-header-nav-item" target="" title="分类">分类</a> <a href="https://hsfeng.site/archives/" class=" site-header-nav-item" target="" title="归档">归档</a> <a href="https://hsfeng.site/wiki/" class=" site-header-nav-item" target="" title="维基">维基</a> <a href="https://hsfeng.site/links/" class=" site-header-nav-item" target="" title="链接">链接</a> <a href="https://hsfeng.site/about/" class=" site-header-nav-item" target="" title="关于">关于</a></nav></div></header><!-- / header --><section class="collection-head small geopattern" data-pattern-id="QEMU 网络模式"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">QEMU 网络模式</h1><div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2020/12/02 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://hsfeng.site/categories/#Qemu" title="Qemu">Qemu</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 5039 字，约 15 分钟 </span></div></div></div><div class="column one-fourth mobile-hidden"><div class="collection-title"></div></div></div></div></section><!-- / .banner --><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><p>QEMU 支持多种网络模式，简单介绍如何使用这几种网络模式。</p><h3 id="一qemu支持的网络模式">一、QEMU支持的网络模式</h3><p>qemu-kvm主要向客户机提供了4种不同模式的网络。</p><p>1)基于网桥(bridge)的虚拟网卡；</p><p>2)基于NAT的虚拟网络（网络地址转换NAT）；</p><p>3)QEMU内置的用户模式网络(user mode networking)；</p><p>4)直接分配网络设备的网络(包括VT-d和SR-IOV)</p><h3 id="二基于网桥bridge的虚拟网卡">二、基于网桥(bridge)的虚拟网卡</h3><p>建立一个bridge,将其绑定到一个可正常工作的网络接口上，同时让bridge成为连接本机与外部网络的接口。</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code>brctl addr br0
brctl addif br0 eth0
brctl stp br0 on
</code></pre>
  

  
 </div></div><p>建立bridge后的状态是让网络接口eth0进入混杂模式(promiscuous mode，接收网络中所有数据包)，网桥br0进入转发状态(forwarding state)，并且与eth0具有相同的MAC地址.</p><p>建立一个TAP设备，将其绑定到网桥上</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code>tunctl <span class="nt">-u</span> <span class="si">$(</span><span class="nb">whoami</span><span class="si">)</span> <span class="nt">-t</span> tap0
brctl addif br0 tap0
</code></pre>
  

  
 </div></div><p>使用TAP设备</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code>qemu <span class="nt">-net</span> nic <span class="nt">-net</span> tap,ifname<span class="o">=</span>tap0
</code></pre>
  

  
 </div></div><p>QEMU网络启动关闭脚本</p><p>客户机启动网络前会执行的脚本由”script”选项配置的(默认为/etc/qemu-ifup)。一般在该脚本上创建一个TAP设备并将其中与bridge绑定起来。</p><p>准备qemu-ifup和qemu-ifdown脚本</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code><span class="c"># cat /etc/qemu-ifup</span>
<span class="c">#!/bin/bash</span>

<span class="nv">switch</span><span class="o">=</span>br0

<span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
  <span class="c">#tunctl -u $(whoami) -t $1 #一些较旧版本中不会自动创建TAP设备</span>
  ifconfig <span class="nv">$1</span> up
  <span class="nb">sleep </span>0.5s
  brctl addif <span class="nv">$switch</span> <span class="nv">$1</span>
  <span class="nb">exit </span>0
<span class="k">else
  </span><span class="nb">echo</span> <span class="s1">'Error: no specifed interface.'</span>
  <span class="nb">exit </span>1
<span class="k">fi</span>
</code></pre>
  

  
 </div></div><p>由于qemu-kvm工具在客户机关闭时会解除TAP设备的bridge绑定,也会自动删除已不再使用的TAP设备，所有qemu-ifdown这个脚本不是必需的,最好设置为downscript=no(qemu-kvm的script参数是虚拟机启动时执行的脚本,downscript参数是虚拟机关闭时执行的参数)</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code><span class="c"># cat /etc/qemu-ifdown </span>
<span class="c">#!/bin/bash</span>

<span class="nv">switch</span><span class="o">=</span>br0

<span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="nv">$1</span> <span class="o">]</span><span class="p">;</span><span class="k">then
  </span>tunctl <span class="nt">-d</span> <span class="nv">$1</span>
  brctl delif <span class="k">${</span><span class="nv">switch</span><span class="k">}</span> <span class="nv">$1</span>
  ip <span class="nb">link set</span> <span class="nv">$1</span> down
  <span class="nb">exit </span>0
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"Error: no interface specified"</span>
  <span class="nb">exit </span>1
<span class="k">fi</span>
</code></pre>
  

  
 </div></div><h3 id="三基于nat的虚拟网络网络地址转换nat">三、基于NAT的虚拟网络（网络地址转换NAT）</h3><p>网络设备，虚拟机连接主机</p><p>主机网卡：<strong>enp0s3</strong></p><p>TAP设备：<strong>tap0</strong></p><p>初始化TAP设备</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code>tunctl <span class="nt">-u</span> <span class="si">$(</span><span class="nb">whoami</span><span class="si">)</span> <span class="nt">-t</span> tap0
ip addr add 192.168.0.1/24 dev tap0
ip <span class="nb">link set </span>dev tap0 up
</code></pre>
  

  
 </div></div><p>虚拟机的启动命令行增加网络参数</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code><span class="nt">-net</span> nic <span class="nt">-net</span> tap,ifname<span class="o">=</span>tap0
</code></pre>
  

  
 </div></div><p>设置虚拟机IP，此处enp0s3为虚拟机网卡</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code>ip addr add 192.168.0.2/24 dev enp0s3
</code></pre>
  

  
 </div></div><p>虚拟机通过主机连接internet，现在实现了虚拟机和host的联网，如果需要虚拟机连接internet，则要在host设置NAT：</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code><span class="nb">echo </span>1 <span class="o">&gt;</span> /proc/sys/net/ipv4/ip_forward
iptables <span class="nt">-t</span> nat <span class="nt">-A</span> POSTROUTING <span class="nt">-o</span> enp0s3 <span class="nt">-s</span> 192.168.0.0/24 <span class="nt">-j</span> MASQUERADE
</code></pre>
  

  
 </div></div><p>虚拟机添加DNS服务器</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code><span class="c"># /etc/resolv.conf</span>
...
namserver 8.8.8.8
</code></pre>
  

  
 </div></div><h3 id="四内置的用户模式网络user-mode-networking">四、内置的用户模式网络(user mode networking)</h3><p>虚拟机的启动命令行增加网络参数</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code><span class="nt">-net</span> nic <span class="nt">-net</span> user
</code></pre>
  

  
 </div></div><h3 id="五仅主机host-only模式">五、仅主机(Host-only)模式</h3><p>建立一个TAP设备，将其绑定到网桥上</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code>tunctl <span class="nt">-u</span> <span class="si">$(</span><span class="nb">whoami</span><span class="si">)</span> <span class="nt">-t</span> tap0
brctl addif br0 tap0
</code></pre>
  

  
 </div></div><p>使用TAP设备</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code>qemu <span class="nt">-net</span> nic <span class="nt">-net</span> tap,ifname<span class="o">=</span>tap0
</code></pre>
  

  
 </div></div><h3 id="六桥接网络">六、桥接网络</h3><blockquote><p>重点注意：模拟主机网卡桥接模式，且混杂模式为全部允许</p></blockquote><p>配置qemu虚拟机与主机在同一网络（主机所在网段）下，且可对外访问（一般为互联网），可以使用脚本1或脚本2。</p><blockquote><p>脚本1</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code><span class="c"># net-bridge.sh</span>
<span class="c"># network card 1: enp0s3</span>
<span class="c"># network card 2: enp0s8</span>
<span class="c"># network bridge: br0</span>
<span class="c"># tap device: tap0</span>

sysctl <span class="nt">-w</span> net.ipv4.ip_forwoard<span class="o">=</span>1

ifconfig enp0s8 down
brctl addbr br0
brctl addif br0 enp0s8
brctl stp br0 off
brctl setfd br0 1
brctl sethello br0 1
ifconfig br0 0.0.0.0 promisc up
ifconfig enp0s8 0.0.0.0 promisc up

tunctl <span class="nt">-t</span> tap0 <span class="nt">-u</span> hsfengbyte
ip <span class="nb">link set </span>dev tap0 down
brctl addif br0 tap0
ifconfig tap0 0.0.0.0 promisc up
</code></pre>
  

  
 </div></div><blockquote><p>脚本2</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code><span class="c"># net-iproutes-bridge.sh</span>
<span class="c"># network card 1: enp0s3</span>
<span class="c"># network card 2: enp0s8</span>
<span class="c"># network bridge: br0</span>
<span class="c"># tap device: tap0</span>

<span class="c">#!/bin/bash</span>

sysctl <span class="nt">-w</span> net.ipv4.ip_forward<span class="o">=</span>1

ip <span class="nb">link </span>add name br0 <span class="nb">type </span>bridge
ip <span class="nb">link set </span>dev enp0s8 master br0
ip <span class="nb">link set </span>dev br0 up promisc on
ip <span class="nb">link set </span>dev enp0s8 up promisc on

ip tuntap add dev tap0 mode tap user hsfeng
ip <span class="nb">link set </span>dev tap0 master br0
ip <span class="nb">link set </span>dev tap0 up promisc on

dhclient
<span class="c"># dhcpcd</span>
</code></pre>
  

  
 </div></div><p>运行脚本1或脚本2后，主机网络：</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    <span class="nb">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    <span class="nb">link</span>/ether 08:00:27:06:c3:ec brd ff:ff:ff:ff:ff:ff
    inet 192.168.8.209/24 brd 192.168.8.255 scope global dynamic enp0s3
       valid_lft 42100sec preferred_lft 42100sec
    inet 192.168.8.208/24 brd 192.168.8.255 scope global secondary noprefixroute enp0s3
       valid_lft forever preferred_lft forever
    inet6 fe80::aa8:7bf2:99b:fcf2/64 scope <span class="nb">link </span>noprefixroute
       valid_lft forever preferred_lft forever
3: enp0s8: &lt;BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel master br0 state UP group default qlen 1000
    <span class="nb">link</span>/ether 08:00:27:08:4b:8c brd ff:ff:ff:ff:ff:ff
    inet 192.168.8.143/24 brd 192.168.8.255 scope global dynamic enp0s8
       valid_lft 41193sec preferred_lft 41193sec
    inet 192.168.8.142/24 brd 192.168.8.255 scope global secondary noprefixroute enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::cfe0:a989:e6f0:a482/64 scope <span class="nb">link </span>noprefixroute
       valid_lft forever preferred_lft forever
5: br0: &lt;BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000
    <span class="nb">link</span>/ether 08:00:27:08:4b:8c brd ff:ff:ff:ff:ff:ff
    inet 192.168.8.143/24 brd 192.168.8.255 scope global dynamic br0
       valid_lft 42100sec preferred_lft 42100sec
    inet 192.168.8.142/24 brd 192.168.8.255 scope global secondary noprefixroute br0
       valid_lft forever preferred_lft forever
    inet6 fe80::5c79:b0f1:69eb:54d8/64 scope <span class="nb">link
       </span>valid_lft forever preferred_lft forever
6: tap0: &lt;NO-CARRIER,BROADCAST,MULTICAST,PROMISC,UP&gt; mtu 1500 qdisc fq_codel state DOWN group default qlen 1000
    <span class="nb">link</span>/ether aa:dd:8b:c9:3c:55 brd ff:ff:ff:ff:ff:ff
    inet 169.254.7.232/16 brd 169.254.255.255 scope <span class="nb">link </span>tap0:avahi
       valid_lft forever preferred_lft forever
</code></pre>
  

  
 </div></div><p>虚拟机网络：</p><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    <span class="nb">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    <span class="nb">link</span>/ether 08:00:27:06:c3:ec brd ff:ff:ff:ff:ff:ff
    inet 192.168.8.208/24 brd 192.168.8.255 scope global noprefixroute enp0s3
       valid_lft forever preferred_lft forever
    inet6 fe80::aa8:7bf2:99b:fcf2/64 scope <span class="nb">link
       </span>valid_lft forever preferred_lft forever

</code></pre>
  

  
 </div></div><h3 id="七其他问题">七、其他问题</h3><h4 id="自动获取dhcp">自动获取dhcp</h4><div class="language-shell highlighter-rouge"><div class="highlight">
  
  
  
    <pre class="highlight"><code><span class="nb">sudo </span>apt intall dhcpcd
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>dhcpcd
<span class="nb">sudo </span>systemctl start dhcpcd
<span class="nb">sudo </span>dhcpcd <span class="c">#获取ip</span>
<span class="nb">sudo </span>dhcpcd <span class="nt">-k</span> <span class="c">#清空ip</span>
</code></pre>
  

  
 </div></div><div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"><h3>文档信息</h3><ul><li>本文作者：<a href="https://hsfeng.site" target="_blank">hsfeng</a></li><li>本文链接：<a href="https://hsfeng.site/qemu/qemu-network-mode.html" target="_blank">https://hsfeng.site/qemu/qemu-network-mode.html</a></li><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li></ul></div></article><div class="share"></div><div class="comment"><div id="gitalk-container"></div><!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"> --><link rel="stylesheet" href="https://hsfeng.site/assets/vendor/gitalk/gitalk.css"> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <script> var gitalk = new Gitalk({ id: '/qemu/qemu-network-mode.html', clientID: 'add2b2d3d3f6c9fcaf30', clientSecret: '0956dc83645e36dfb8fa9292d948f1c4d201dd2b', repo: 'blog-comments', owner: 'hsfengbyte', admin: ['hsfengbyte'], labels: ['gitment'], perPage: 50, }); gitalk.render('gitalk-container'); </script></div></div><div class="column one-fourth"><h3>Search</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://hsfeng.site/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://hsfeng.site/assets/search_data.json?v=1654090209', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script> <!--<script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://hsfeng.site/assets/search_data.json?v=1654090209', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script>--><h3 class="post-directory-title mobile-hidden">Table of Contents</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"> <!-- Links that trigger the jumping --> <!-- Added by javascript below --><dl></dl></section></div><script src="https://hsfeng.site/assets/js/jquery.toc.js"></script></div></div></section><!-- /section.content --><footer class="container"><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2021 <span title="hsfeng">hsfeng</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="https://github.com/hsfengbyte/hsfengbyte.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="https://hsfeng.site/" title="首页" target="">首页</a></li><li> <a href="https://hsfeng.site/categories/" title="分类" target="">分类</a></li><li> <a href="https://hsfeng.site/archives/" title="归档" target="">归档</a></li><li> <a href="https://hsfeng.site/wiki/" title="维基" target="">维基</a></li><li> <a href="https://hsfeng.site/links/" title="链接" target="">链接</a></li><li> <a href="https://hsfeng.site/about/" title="关于" target="">关于</a></li><li><a href="https://hsfeng.site/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul><!-- 不蒜子访问统计 --></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a></div><!-- / footer --> <script src="https://hsfeng.site/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script></body></html>
  
  

  


